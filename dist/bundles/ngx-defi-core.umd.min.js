!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("lodash"),require("element-resize-detector"),require("rxjs/Subject"),require("rxjs/operators/debounceTime"),require("@angular/animations"),require("uuid"),require("rxjs"),require("bluebird")):"function"==typeof define&&define.amd?define("ngx-defi-core",["exports","@angular/core","@angular/common","lodash","element-resize-detector","rxjs/Subject","rxjs/operators/debounceTime","@angular/animations","uuid","rxjs","bluebird"],t):t(e["ngx-defi-core"]={},e.ng.core,e.ng.common,e.lodash,e.erdImported,e.Rx,e.Rx.Observable.prototype,e.ng.animations,e.uuid,e.rxjs,e.bluebird)}(this,function(e,t,i,s,n,o,r,a,l,p,d){"use strict";function c(t,a,s,l){return new(s||(s=Promise))(function(e,i){function n(e){try{r(l.next(e))}catch(t){i(t)}}function o(e){try{r(l["throw"](e))}catch(t){i(t)}}function r(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,o)}r((l=l.apply(t,a||[])).next())})}function f(i,n){var o,r,a,e,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),"throw":t(1),"return":t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,r&&(a=r[2&e[0]?"return":e[0]?"throw":"next"])&&!(a=a.call(r,e[1])).done)return a;switch(r=0,a&&(e=[0,a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,r=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(i,s)}catch(t){e=[6,t],r=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([t,e])}}}var u=function(){};u.decorators=[{type:t.Component,args:[{selector:"defi-box",template:'<div id="box">\n    <div id="box-title">\n        {{title}}\n    </div>\n    <div class="box-container">\n        <ng-content></ng-content>\n    </div>\n\n</div>',styles:[":host{width:100%}:host #box{width:100%}:host #box .box-title{font-size:1.2rem}:host #box .box-container{background-color:#fff;-webkit-box-shadow:1px 1px 9px 0 grey;box-shadow:1px 1px 9px 0 grey}"]}]}],u.propDecorators={title:[{type:t.Input}]};var m=function(){function e(){this._open=!1}return e.prototype.open=function(e,t){e&&(this.template=e),t&&(this.context=t),this._open=!0},e.prototype.close=function(){this._open=!1},e.prototype.toggle=function(){this._open=!this._open},e}();m.decorators=[{type:t.Injectable}];var h=function(e){this.sidepanel=e};h.decorators=[{type:t.Component,args:[{selector:"defi-side-panel",template:'<div id="sidePanelClose" [ngClass]="{\'openSidePanel\':sidepanel._open, \'closeSidePanel\':!sidepanel._open}" (click)="sidepanel._open=false">\n    <i class=\'fa fa-chevron-right\'></i>\n    <div id="sidePanelContainer" click-stop-propagation>\n        <ng-container *ngTemplateOutlet="sidepanel.template; context: sidepanel.context"></ng-container>\n    </div>\n</div>\n ',styles:[".formGroup{margin-bottom:10px}.formGroup label{width:100%}@-webkit-keyframes openSidePanel{0%{max-width:0;padding-left:0}100%{padding-left:10%;max-width:100vw}}@keyframes openSidePanel{0%{max-width:0;padding-left:0}100%{padding-left:10%;max-width:100vw}}@-webkit-keyframes closeSidePanel{0%{padding-left:10%;max-width:100vw}100%{padding-left:0;max-width:0}}@keyframes closeSidePanel{0%{padding-left:10%;max-width:100vw}100%{padding-left:0;max-width:0}}:host{height:100%}:host #sidePanelClose{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;right:0;width:100vw;height:100%;background-color:rgba(0,0,0,.7);max-width:0;overflow-x:hidden}:host #sidePanelClose i{color:#fff;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#343a40;padding-left:10px;padding-right:10px}:host #sidePanelClose ::ng-deep #sideHeader{background-color:#343a40;color:#fff;text-align:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px}:host #sidePanelClose ::ng-deep #sideContainer{padding:20px}:host #sidePanelClose #sidePanelContainer{background-color:#fff;height:100%}:host #sidePanelClose.closeSidePanel{-webkit-animation-name:closeSidePanel;animation-name:closeSidePanel;-webkit-animation-duration:.2s;animation-duration:.2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}:host #sidePanelClose.openSidePanel{-webkit-animation-name:openSidePanel;animation-name:openSidePanel;-webkit-animation-duration:.2s;animation-duration:.2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}"]}]}],h.ctorParameters=function(){return[{type:m}]};var b=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[m]}},e}();b.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule],declarations:[h,u],exports:[h,u]}]}];var g=function(){function e(){this.api="http://localhost:3000",this.graphQL=this.api+"/graphql",this.refreshTokenInterval=4e3}return e.prototype.equalityObjects=function(e,t){var i=this.differences(e,t);return 0===i.different.length+i.missing_from_first.length+i.missing_from_second.length},e.prototype.differences=function(o,r){var a=this,e={different:[],missing_from_first:[],missing_from_second:[]};return s.reduce(o,function(e,t,i){if(r.hasOwnProperty(i)){if(s.isEqual(t,r[i]))return e;if(typeof o[i]!=typeof{}||typeof r[i]!=typeof{})return e.different.push(i),e;var n=a.differences(o[i],r[i]);return e.different=e.different.concat(s.map(n.different,function(e){return i+"."+e})),e.missing_from_second=e.missing_from_second.concat(s.map(n.missing_from_second,function(e){return i+"."+e})),e.missing_from_first=e.missing_from_first.concat(s.map(n.missing_from_first,function(e){return i+"."+e})),e}return e.missing_from_second.push(i),e},e),s.reduce(r,function(e,t,i){return o.hasOwnProperty(i)||e.missing_from_first.push(i),e},e),e},e.prototype.wait=function(i){return new Promise(function(e,t){setTimeout(function(){e()},i)})},e.prototype.flatten=function(e){var n={};return function t(i){Object.keys(i).map(function(e){"object"==typeof i[e]?t(i[e]):n[e]=i[e]})}(e),n},e.prototype.stringifyWithoutPropertiesQuote=function(e){return JSON.stringify(e).replace(/(\{ *"enum" *\: *")([a-z A-Z 0-9]*)" *}/gm,"$2").replace(/\\"/g,"￿").replace(/\"([^"]+)\":/g,"$1:").replace(/\uFFFF/g,'\\"')},e.prototype.filter=function(){var i=function(e){return e};return{filter:function(e){return i},update:function(r,t){i=function(e){var o=[];return t.map(function(n){e.forEach(function(t){var i=function e(t,i){if(i.length)return e(t[i[0]],i.slice(1,i.length));return t}(t,n.split("."));i&&i.toUpperCase().includes(r.toUpperCase())&&o.push(t)})}),o.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[])}}}},e}();g.decorators=[{type:t.Injectable}],g.ctorParameters=function(){return[]};var v=function(){function e(e,t){this.renderer=e,this.hostElement=t}return e.prototype.start=function(e){this.renderer.addClass(this.hostElement.nativeElement,"spin-animation"),this.renderer.addClass(this.hostElement.nativeElement,"fa-spinner")},e.prototype.stop=function(){this.renderer.removeClass(this.hostElement.nativeElement,"spin-animation"),this.renderer.removeClass(this.hostElement.nativeElement,"fa-spinner")},e}();v.decorators=[{type:t.Directive,args:[{selector:"[defi-spinning-icon]",exportAs:"spinning"}]}],v.ctorParameters=function(){return[{type:t.Renderer2},{type:t.ElementRef}]};var x=function(){function e(){}return e.prototype.onClick=function(e){e.stopPropagation()},e}();x.decorators=[{type:t.Directive,args:[{selector:"[defi-click-stop-propagation]"}]}],x.propDecorators={onClick:[{type:t.HostListener,args:["click",["$event"]]}]};var y=function(){function e(){}return e.prototype.transform=function(e){return e.split(" ").join("").replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"")},e}();y.decorators=[{type:t.Pipe,args:[{name:"defi-toId",pure:!0}]}];var w=n,k=function(){function e(e){this.renderer=e,this.open=!1,this.placement="right",this.positionClass="popover-right",this.resizeDetector=w({strategy:"scroll"})}return e.prototype.loadState=function(e){e?this.renderer.setStyle(this.popupContainer.nativeElement,"visibility","visible"):this.renderer.setStyle(this.popupContainer.nativeElement,"visibility","hidden")},e.prototype.ngOnChanges=function(e){this.loadState(e.open.currentValue)},e.prototype.ngAfterContentInit=function(){var i=this;this.resizeDetector.listenTo(this.popupContainer.nativeElement,function(e){var t=e.offsetWidth;e.offsetHeight;"top"!==i.placement&&"bottom"!==i.placement||i.renderer.setStyle(i.popupContainer.nativeElement,"left","-"+t/2+"px")})},e}();k.decorators=[{type:t.Component,args:[{selector:"defi-popover",template:'<div class="defi-popover">\n    <div class="defi-popover-container {{placement}}" #popupContainer>\n        <ng-content select="[popover=content]"></ng-content>\n    </div>\n    <ng-content></ng-content>\n</div>',styles:['.formGroup{margin-bottom:10px}.formGroup label{width:100%}:host .defi-popover{position:relative;width:100%}:host .defi-popover .defi-popover-container{padding:10px;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:.1s;transition-duration:.1s;-webkit-transition-timing-function:cubic-bezier(.075,.82,.165,1);transition-timing-function:cubic-bezier(.075,.82,.165,1);visibility:hidden;border:1px solid #d2d2d2;position:absolute;z-index:1;background-color:#fff;border-radius:3px}:host .defi-popover .defi-popover-container::after{content:"";position:absolute;border-style:solid;border-width:5px}:host .defi-popover .defi-popover-container.right{left:calc(100% + 10px)}:host .defi-popover .defi-popover-container.right::after{right:100%;top:50%;margin-top:-10px;border-color:transparent #b9b9b9 transparent transparent}:host .defi-popover .defi-popover-container.left{right:calc(100% + 10px)}:host .defi-popover .defi-popover-container.left::after{left:100%;top:50%;margin-top:-10px;border-color:transparent transparent transparent #b9b9b9}:host .defi-popover .defi-popover-container.bottom{top:calc(100% + 10px);left:-101.5px;margin-left:50%}:host .defi-popover .defi-popover-container.bottom::after{left:50%;margin-left:-5px;bottom:100%;border-color:transparent transparent #b9b9b9}:host .defi-popover .defi-popover-container.top{bottom:calc(100% + 10px);left:-101.5px;margin-left:50%}:host .defi-popover .defi-popover-container.top::after{left:50%;margin-left:-5px;top:100%;border-color:#b9b9b9 transparent transparent}:host ::ng-deep ul{list-style:none;margin:0;padding:0}']}]}],k.ctorParameters=function(){return[{type:t.Renderer2}]},k.propDecorators={open:[{type:t.Input,args:["open"]}],placement:[{type:t.Input,args:["placement"]}],popupContainer:[{type:t.ViewChild,args:["popupContainer"]}]};var S=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[g]}},e}();S.decorators=[{type:t.NgModule,args:[{declarations:[x,v,y,k],imports:[i.CommonModule],exports:[v,y,k,x]}]}];var C=function(){function e(){this.debounceTime=500,this.debounce=new t.EventEmitter,this.subject=new o.Subject}return e.prototype.ngOnInit=function(){this.createSubsription()},e.prototype.createSubsription=function(){var t=this;this.subscription=this.subject.pipe(r.debounceTime(this.debounceTime)).subscribe(function(e){return t.debounce.emit(e)})},e.prototype.ngOnChanges=function(e){e.debounceTime&&this.subject.observers[0]&&(this.subject.observers[0].dueTime=e.debounceTime.currentValue)},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.keyupEvent=function(e){e.preventDefault(),e.stopPropagation(),this.subject.next(e)},e}();C.decorators=[{type:t.Directive,args:[{selector:"[defi-debounce-input]"}]}],C.propDecorators={debounceTime:[{type:t.Input}],debounce:[{type:t.Output}],keyupEvent:[{type:t.HostListener,args:["keyup",["$event"]]}]};var I=function(){function e(e,t){this.renderer=e,this.hostElement=t}return e.prototype.ngOnInit=function(){var i=this,e=this.renderer.createElement("div");this.renderer.setStyle(e,"position","relative");var n=this.renderer.createElement("i");this.renderer.addClass(n,"fa"),this.renderer.addClass(n,"fa-eye-slash"),this.renderer.addClass(n,"toggle-eye"),this.renderer.setStyle(n,"position","absolute"),this.renderer.setStyle(n,"top",0),this.renderer.setStyle(n,"right",0),this.renderer.setStyle(n,"display","inherit"),this.renderer.setStyle(n,"cursor","pointer"),this.renderer.listen(n,"click",function(e){var t=i.hostElement.nativeElement;"password"===t.type?(t.type="text",i.renderer.addClass(n,"fa-eye"),i.renderer.removeClass(n,"fa-eye-slash")):(t.type="password",i.renderer.removeClass(n,"fa-eye"),i.renderer.addClass(n,"fa-eye-slash"))});var t=this.hostElement.nativeElement.parentNode;this.renderer.insertBefore(t,e,this.renderer.nextSibling(this.hostElement.nativeElement)),this.renderer.appendChild(e,this.hostElement.nativeElement),this.renderer.appendChild(e,n)},e}();I.decorators=[{type:t.Directive,args:[{selector:"[defi-show-password]"}]}],I.ctorParameters=function(){return[{type:t.Renderer2},{type:t.ElementRef}]};var P=function(){function e(e,t){this.renderer=e,this.hostElement=t}return e.prototype.ngAfterViewChecked=function(){this.onInputChange()},e.prototype.onInputChange=function(){if(this.hostElement.nativeElement.disabled)return this.renderer.removeClass(this.hostElement.nativeElement,"badInput"),void this.renderer.removeClass(this.hostElement.nativeElement,"goodInput");this.validators.valid?(this.renderer.addClass(this.hostElement.nativeElement,"goodInput"),this.renderer.removeClass(this.hostElement.nativeElement,"badInput")):(this.renderer.addClass(this.hostElement.nativeElement,"badInput"),this.renderer.removeClass(this.hostElement.nativeElement,"goodInput"))},e}();P.decorators=[{type:t.Directive,args:[{selector:"[defi-validators]",host:{"(input)":"onInputChange($event)"}}]}],P.ctorParameters=function(){return[{type:t.Renderer2},{type:t.ElementRef}]},P.propDecorators={validators:[{type:t.Input,args:["defi-validators"]}]};var D=function(){};D.decorators=[{type:t.Component,args:[{selector:"defi-form-errors",template:'\x3c!-- {{model.errors | json}} --\x3e\n\n<ul *ngIf="model && model.errors">\n    <li *ngIf="model.errors.pattern" class="hint">\n         <ng-container *ngIf="patternName; else notPatternName">\n            {{patternName}}\n        </ng-container>\n        <ng-template #notPatternName>\n            Pattern: {{model.errors.pattern.requiredPattern}}\n        </ng-template>\n    </li>\n    <li *ngIf="model.errors.required" class="hint">\n        Obligatoire\n    </li>\n    <li *ngIf="model.errors.minlength" class="hint">\n        Contient au moins {{model.errors.minlength.requiredLength}} caractères\n    </li>\n    <li *ngIf="model.errors.maxlength" class="hint">\n        Contient au plus {{model.errors.maxlength.requiredLength}} caractères\n    </li>\n    <li *ngIf="model.errors.recheckPassphrase" class="hint">\n        Doit correspondre à la phrase de passe\n    </li>\n    <li *ngIf="model.errors.email" class="hint">\n        Doit être un email\n    </li>\n</ul>\n',styles:[".formGroup{margin-bottom:10px}.formGroup label{width:100%}:host{display:inline-block;font-size:.7em;width:100%;min-height:.7em;top:-2px;line-height:0;text-align:right;color:#dc3545}"]}]}],D.propDecorators={model:[{type:t.Input,args:["model"]}],patternName:[{type:t.Input,args:["patternName"]}]};var E=function(){};E.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule],declarations:[D,C,P,I],exports:[D,C,P,I]}]}];var _=function(){function e(){}return e.MatchPassword=function(e){return e.value.passphrase!==e.value.recheckPassphrase?{recheckPassphrase:!0}:null},e.GeneratePassword=function(e){void 0===e&&(e=12);for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+~`|}{[]:;?><,./-=",i="",n=0,o=t.length;n<e;++n)i+=t.charAt(Math.floor(Math.random()*o));return i},e}(),j=function(){this.name=""};j.decorators=[{type:t.Component,args:[{selector:"defi-navbar",template:'<div id="navbar" [ngStyle]="{\'background-image\': url ? \'url(img)\' : \'\'}">\n  <div id="leftRight">\n    <div id="left">\n      <div id="logoContainer">\n        <ng-content select="[logo]"></ng-content>\n      </div>\n      <div id="description">\n        {{name}}\n      </div>\n    </div>\n\n    <div id="right">\n      <div id="actions">\n        <ng-content selector="[action]"></ng-content>\n      </div>\n    </div>\n  </div>\n</div>',styles:[".formGroup{margin-bottom:10px}.formGroup label{width:100%}#navbar{height:40px;background-color:#343a40;color:#fff;max-height:40px;background-size:100%}#navbar #leftRight{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%}#navbar #leftRight #left{height:100%;padding-left:5px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}#navbar #leftRight #left #logoContainer{height:80%}#navbar #leftRight #left #logoContainer ::ng-deep [logo]{height:100%;border-radius:100%;overflow:hidden}#navbar #leftRight #left #logoContainer ::ng-deep [logo] img{height:100%}#navbar #leftRight #left #description{margin-left:10px;color:#fff;font-size:1.2em}#navbar #leftRight #right{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;margin-right:10px}#navbar #leftRight #right #actions{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}#navbar #leftRight #right #actions ::ng-deep .icon{font-size:1.7em}"]}]}],j.ctorParameters=function(){return[]},j.propDecorators={name:[{type:t.Input,args:["name"]}],img:[{type:t.Input,args:["img"]}]};var N=function(){function e(){this._open=!1}return e.prototype.open=function(){this._open=!0},e.prototype.close=function(){this._open=!1},e.prototype.toggle=function(){this._open=!this._open},e}();N.decorators=[{type:t.Injectable}];var T=function(){function e(e){this.sidebar=e,this.hintState="close",this.conf={list:[],bottom:[]}}return e.prototype.goTo=function(e){e.click()},e.prototype.newWindow=function(e){e.externalUrl&&window.open(e.externalUrl)},e.prototype.toggleSidebar=function(){this.sidebar.toggle()},e.prototype.toggleHint=function(e){this.hintState="mouseover"!==e.type||this.sidebar._open?"close":"open"},e}();T.decorators=[{type:t.Component,args:[{selector:"defi-sidebar",template:'<div class="openSidebar" \n    [ngClass]="{\'openSidebar\':sidebar._open, \'closeSidebar\':!sidebar._open}"\n    [ngStyle]="{\'background-image\': url ? \'url(img)\' : \'\'}"\n    id="sidebar">\n    <div class="list">\n        <div *ngFor=\'let item of conf.list\'>\n            <ng-container *ngTemplateOutlet="linkTemplate;context:{$implicit:item}"></ng-container>  \n        </div>\n    </div>\n    <div class="bottomList">\n        <div *ngFor=\'let item of conf.bottom\'>\n            <ng-container *ngTemplateOutlet="linkTemplate;context:{$implicit:item}"></ng-container>\n        </div>\n        <div id="toggleSidebar" class="item" (click)="toggleSidebar();" [ngClass]="{\'openSidebar\':sidebar._open, \'closeSidebar\':!sidebar._open}">\n            <div class="icon" >\n                <i class="fa fa-arrow-right"></i>\n            </div>\n        </div>\n    </div>\n</div>\n\n<ng-template #linkTemplate let-item>\n    <div id="{{item.id}}" class="item" (click)="goTo(item)" (auxclick)="newWindow(item)" (mouseover)="toggleHint($event)" (mouseleave)="toggleHint($event)">\n        <div class="icon">\n            <i class="{{item.icon}}"></i>\n        </div>\n        <div class="description" [ngClass]="{\'openSidebar\':sidebar._open, \'closeSidebar\':!sidebar._open}">\n            {{item.description}}\n        </div>\n        <div id="hint-{{item.id}}" class="hintContainer"  [@hintState]="hintState">\n            <div class="hint">{{item.description}}</div>\n        </div>\n    </div>\n</ng-template>\n',styles:[".formGroup{margin-bottom:10px}.formGroup label{width:100%}@-webkit-keyframes openSidebar{0%{width:40px}to{width:175px}}@keyframes openSidebar{0%{width:40px}to{width:175px}}@-webkit-keyframes closeSidebar{0%{width:175px}to{width:40px}}@keyframes closeSidebar{0%{width:175px}to{width:40px}}@-webkit-keyframes openSidebarDescription{0%{width:0}to{width:40px}}@keyframes openSidebarDescription{0%{width:0}to{width:40px}}@-webkit-keyframes closeSidebarDescription{0%{width:40px}to{width:0}}@keyframes closeSidebarDescription{0%{width:40px}to{width:0}}@-webkit-keyframes openSidebarIcon{0%{-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:scale(-1);transform:scale(-1)}}@keyframes openSidebarIcon{0%{-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:scale(-1);transform:scale(-1)}}@-webkit-keyframes closeSidebarIcon{0%{-webkit-transform:scale(-1);transform:scale(-1)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes closeSidebarIcon{0%{-webkit-transform:scale(-1);transform:scale(-1)}to{-webkit-transform:scale(1);transform:scale(1)}}#sidebar{color:#fff;height:100%;overflow-x:hidden;width:40px;background-color:#343a40;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;background-size:auto 100%}#sidebar.openSidebar{-webkit-animation-name:openSidebar;animation-name:openSidebar;-webkit-animation-duration:.2s;animation-duration:.2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}#sidebar.closeSidebar{-webkit-animation-name:closeSidebar;animation-name:closeSidebar;-webkit-animation-duration:.2s;animation-duration:.2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}#sidebar .bottomList,#sidebar .list{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%}#sidebar .bottomList.list,#sidebar .list.list{height:100%}#sidebar .bottomList .item,#sidebar .list .item{-webkit-box-shadow:none;box-shadow:none;-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;margin:0;border:none;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;padding-bottom:15px;padding-top:15px}#sidebar .bottomList .item:hover,#sidebar .list .item:hover{background-color:rgba(0,0,0,.5)}#sidebar .bottomList .item .hintContainer,#sidebar .list .item .hintContainer{position:absolute;overflow:hidden;left:40px;max-width:0;background-color:#1d2124;z-index:3}#sidebar .bottomList .item .hintContainer .hint,#sidebar .list .item .hintContainer .hint{color:#fff;padding:10px}#sidebar .bottomList .item .icon,#sidebar .list .item .icon{width:40px;text-align:center;font-size:1.5em}#sidebar .bottomList .item .description.openSidebar,#sidebar .list .item .description.openSidebar{-webkit-animation-name:openSidebarDescription;animation-name:openSidebarDescription;-webkit-animation-duration:.2s;animation-duration:.2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}#sidebar .bottomList .item .description.closeSidebar,#sidebar .list .item .description.closeSidebar{-webkit-animation-name:closeSidebarDescription;animation-name:closeSidebarDescription;-webkit-animation-duration:.2s;animation-duration:.2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}#sidebar .bottomList #toggleSidebar,#sidebar .list #toggleSidebar{background-color:rgba(0,0,0,.5)}#sidebar .bottomList #toggleSidebar .icon,#sidebar .list #toggleSidebar .icon{font-size:1em}#sidebar .bottomList #toggleSidebar.openSidebar,#sidebar .list #toggleSidebar.openSidebar{-webkit-animation-name:openSidebarIcon;animation-name:openSidebarIcon;-webkit-animation-duration:.2s;animation-duration:.2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}#sidebar .bottomList #toggleSidebar.closeSidebar,#sidebar .list #toggleSidebar.closeSidebar{-webkit-animation-name:closeSidebarIcon;animation-name:closeSidebarIcon;-webkit-animation-duration:.2s;animation-duration:.2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}"],animations:[a.trigger("hintState",[a.state("open",a.style({"max-width":"200px"})),a.state("close",a.style({"max-width":"0"})),a.transition("open => close",a.animate("100ms ease-in")),a.transition("close => open",a.animate("100ms ease-out"))])]}]}],T.ctorParameters=function(){return[{type:N}]},T.propDecorators={conf:[{type:t.Input,args:["conf"]}],img:[{type:t.Input,args:["img"]}]};var M=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[N]}},e}();M.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule],declarations:[j,T],exports:[j,T]}]}];var R=function(){function e(){this.notifications=[],this.addEvent=new p.Subject,this.removeEvent=new p.Subject;var e=+localStorage.getItem("notificationsDelay");e<500&&(e=6e3,localStorage.setItem("notificationsDelay","6000"))}return e.prototype.add=function(e,t){var i={id:l.v4(),title:e||"",msg:t||""};return this.addEvent.next(i),i.timeout=this.defaultTimeout(i),this.notifications.push(i),i},e.prototype.defaultTimeout=function(e){var t=this;return setTimeout(function(){t["delete"](e.id)},+localStorage.getItem("notificationsDelay"))},e.prototype.updateNotif=function(t,i){var n=this;this.notifications.map(function(e){e.id===t&&(i.msg&&(e.msg=i.msg),i.title&&(e.title=i.title),clearTimeout(e.timeout),e.timeout=n.defaultTimeout(e))})},e.prototype["delete"]=function(t){this.removeEvent.next(t),this.notifications=this.notifications.filter(function(e){return e.id!==t})},e.prototype.deleteAll=function(){var t=this;this.notifications.map(function(e){return t["delete"](e.id)})},e}();R.decorators=[{type:t.Injectable}],R.ctorParameters=function(){return[]};var z=function(){function e(e,t){var i=this;this.ns=e,this.renderer2=t,this._notifications=[],this.ns.addEvent.subscribe(function(e){return i._notifications.push(e)}),this.ns.removeEvent.subscribe(function(e){return i.deleteNotif(e)})}return e.prototype.deleteNotif=function(o){var t=this;return new Promise(function(n,e){return c(t,void 0,void 0,function(){var t,i=this;return f(this,function(e){switch(e.label){case 0:return[4,this.getHtmlNotif(o)];case 1:return(t=e.sent())&&(this.renderer2.addClass(t,"deleteNotif"),setTimeout(function(){i._notifications=i._notifications.filter(function(e){return e.id!==o}),n()},500)),[2]}})})})},e.prototype.deleteAll=function(){var t=this;return d.each(this.htmlNotifications,function(e){return t.deleteNotif(e.nativeElement.id),new Promise(function(e,t){setTimeout(function(){e()},50)})})},e.prototype.getHtmlNotif=function(i){return c(this,void 0,void 0,function(){var t;return f(this,function(e){switch(e.label){case 0:return[4,d.filter(this.htmlNotifications,function(e){return e.nativeElement.id===i})];case 1:return(t=e.sent()).length?[2,t.pop().nativeElement]:[2]}})})},e}();z.decorators=[{type:t.Component,args:[{selector:"defi-notifications",template:'<div id="notifications">\n    <div id="closeAll" *ngIf=\'_notifications.length\' (click)="deleteAll()">\n        <i class="fa fa-trash" aria-hidden="true"></i>\n    </div>\n    <div class="notifsWrapper">\n        <div class="notifWrapper" (click)="ns.delete(notif.id)" #notifModel *ngFor="let notif of _notifications" [id]="notif.id">\n            <div class="notifContainer">\n                <div class="title">\n                    {{notif.title}}\n                </div>\n                <div class="msg">\n                    {{notif.msg}}\n                </div>\n            </div>\n        </div>\n    </div>\n</div>',styles:[".formGroup{margin-bottom:10px}.formGroup label{width:100%}@-webkit-keyframes openNotif{0%{max-height:0}to{max-height:400px}}@keyframes openNotif{0%{max-height:0}to{max-height:400px}}@-webkit-keyframes closeNotif{0%{max-height:400px}to{max-height:0}}@keyframes closeNotif{0%{max-height:400px}to{max-height:0}}#notifications{z-index:100000;position:fixed;bottom:20px;right:20px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}#notifications #closeAll{text-align:right}#notifications #closeAll i{font-size:1.7em;background-color:#343a40;color:#fff;padding:10px;-webkit-box-shadow:0 0 10px grey;box-shadow:0 0 10px grey}#notifications .notifWrapper{-webkit-animation-name:openNotif;animation-name:openNotif;-webkit-animation-duration:.4s;animation-duration:.4s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;overflow-y:hidden;-webkit-box-shadow:0 0 10px grey;box-shadow:0 0 10px grey;margin-top:10px;background-color:#343a40;color:#fff}#notifications .notifWrapper.deleteNotif{-webkit-animation-name:closeNotif;animation-name:closeNotif;-webkit-animation-duration:.4s;animation-duration:.4s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}#notifications .notifWrapper .notifContainer{padding:10px;width:400px}#notifications .notifWrapper .notifContainer .title{width:100%;border-bottom:1px solid #fff}#notifications .notifWrapper .notifContainer .msg{width:100%;padding-top:10px}"]}]}],z.ctorParameters=function(){return[{type:R},{type:t.Renderer2}]},z.propDecorators={htmlNotifications:[{type:t.ViewChildren,args:["notifModel"]}]};var L=function(){function e(){this.body="",this.cancelButton="Annuler",this.validateButton="Valider",this.width="auto",this.height="auto",this.mainColor="#343a40",this.noActions=!1,this._open=!1,this.state="close"}return e.prototype.open=function(e){return this.context=e,this.result=new p.Subject,this._open=!0,this.state="open",this.result},e.prototype.close=function(e){e&&this.stopPropagation(e),this._open=!1,this.state="close",this.result&&(this.result.unsubscribe(),this.result=null)},e.prototype.bindForm=function(e){return this.form=e,this},e.prototype.stopPropagation=function(e){e.stopPropagation()},e.prototype.out=function(e,t,i){t&&t.preventDefault(),e?this.form?this.result.next(this.form.value):this.result.next(i||"ok"):this.result.next(null),this.close()},e}();L.decorators=[{type:t.Component,args:[{selector:"popup",template:'<div class="popup" (click)="close($event)" [@openState]="state" >\n  \n  <div class="popup-container" *ngIf=_open [ngStyle]="{width:width, height:height}" (click)="stopPropagation($event)">\n    <div class="popup-title" [ngStyle]="{\'background-color\':mainColor}">\n      <ng-content select="[title]"></ng-content>\n      <div *ngIf=\'title\'>\n        {{title}}\n      </div> \n    </div>\n    <div class="popup-body">\n      <div *ngIf=\'body;else bodyTemplateContainer\'>\n        {{body}}\n      </div>\n      <ng-template #bodyTemplateContainer>\n        <ng-content select="[body]"></ng-content>\n      </ng-template>\n    </div>\n    <div class="popup-actions" *ngIf=\'!noActions\'>\n      <button class="popup-action popup-cancel" (click)="out(false)">{{cancelButton}}</button>\n      <button class="popup-action popup-ok" [ngClass]="{\'popup-disable\': form?.invalid}" [disabled]="form?.invalid" (click)="out(true)">{{validateButton}}</button>\n    </div>\n  </div>\n</div>',styles:[".popup{position:absolute;bottom:0;left:0;width:100vw;height:100vh;z-index:1000;background-color:rgba(0,0,0,.8);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;opacity:0}.popup .popup-container{-webkit-box-shadow:0 0 20px 1px #000;box-shadow:0 0 20px 1px #000;min-width:400px;background-color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;max-height:100vh;max-width:100vw}.popup .popup-container .popup-title{background-color:#343a40;color:#fff;padding:10px}.popup .popup-container .popup-body{padding:10px;-webkit-box-flex:1;-ms-flex:1;flex:1;overflow-y:auto}.popup .popup-container .popup-body::ng-deep>.ng-star-inserted{height:100%}.popup .popup-container .popup-actions{display:-webkit-box;display:-ms-flexbox;display:flex}.popup .popup-container .popup-actions .popup-action{padding:10px;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#fff;cursor:pointer;border:none}.popup .popup-container .popup-actions .popup-action.popup-ok{background-color:#28a745}.popup .popup-container .popup-actions .popup-action.popup-cancel{background-color:#dc3545}.popup .popup-container .popup-actions .popup-action.popup-disable{background-color:#a2a2a2}"],animations:[a.trigger("openState",[a.state("open",a.style({display:"flex",opacity:"1"})),a.state("close",a.style({display:"none",opacity:"0"})),a.transition("open => close",a.animate("100ms ease-in")),a.transition("close => open",a.animate("100ms ease-out"))])]}]}],L.propDecorators={body:[{type:t.Input}],title:[{type:t.Input}],cancelButton:[{type:t.Input}],validateButton:[{type:t.Input}],width:[{type:t.Input}],height:[{type:t.Input}],mainColor:[{type:t.Input}],noActions:[{type:t.Input}]};var O=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[R]}},e}();O.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule],declarations:[z,L],exports:[z,L]}]}],e.DefiBoxComponent=u,e.DefiContainersModule=b,e.DefiSidePanelService=m,e.DefiSidePanelComponent=h,e.DefiCoreModule=S,e.DefiSpinningIconDirective=v,e.DefiClickStopPropagation=x,e.DefiToId=y,e.DefiPopoverComponent=k,e.DefiCommonService=g,e.DefiDebounceInputDirective=C,e.DefiShowPasswordDirective=I,e.DefiValidatorsDirective=P,e.DefiFormErrorsComponent=D,e.DefiFormsModule=E,e.DefiPassword=_,e.DefiNavbarComponent=j,e.DefiNavigationsModule=M,e.DefiSideBarService=N,e.DefiSidebarComponent=T,e.DefiNotificationsComponent=z,e.DefiOverlayModule=O,e.PopupComponent=L,e.DefiNotificationsService=R,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-defi-core.umd.min.js.map
